<%- include('../../partials/header'); -%>

    <div class="container">
        <form class="row g-3 needs-validation" action="/players/save/<%= datas.id %>" method="post">
            <div class="col-md-4">
                <label for="validationCustom01" class="form-label">nom</label>
                <input type="text" class="form-control" id="validationCustom01" name="nom" maxlength="50" value="<%= datas.nom %>" required>
            </div>
            <div class="col-md-4">
                <label for="validationCustom02" class="form-label">prénom</label>
                <input type="text" class="form-control" id="validationCustom02" name="prenom" maxlength="50" value="<%= datas.prenom %>" required>
            </div>
            <div class="col-md-4">
                <label for="validationCustom03" class="form-label">Matricule</label>
                <input type="text" class="form-control" id="validationCustom03" name="matricule" maxlength="50" value="<%= datas.matricule %>" required>
            </div>

            <div class="col-md-6">
                <label for="validationCustom03" class="form-label">Password <i>(si laissé vide pas modifié !)</i></label>
                <input type="password" class="form-control" id="password" name="password" value="">
            </div>

            <div class="col-md-6">
                <label for="validationCustom05" class="form-label">password <i>(vérification)</i>&nbsp;&nbsp;&nbsp;<span id="badge" class="badge bg-danger">ne correspond pas ou 6 caractères minimum !</span></label>
                <input type="password" class="form-control" id="password_verif" name="password_verif" value="">
            </div>

            <div class="col-12">
                <button class="btn btn-primary" id="submit" type="submit">Sauvegarder</button>
                <span class="badge text-bg-warning">Pour prendre en compte les modifications il faudra vous reconnecter !</span>
            </div>
        </form>
    </div>

    <script>
        $(document).ready(function() {

            var ctrl = () => {
                let pass1 = $('#password').val();
                let pass2 = $('#password_verif').val();
                if ((pass1 != pass2) || (pass1.length < 6)) {
                    $('#badge').show();
                    $('#submit').prop('disabled', true);
                }else{
                    $('#badge').hide();
                    $('#submit').prop('disabled', false);
                };
            };

            $('#badge').hide();
            $('#password').on('change', ctrl);
            $('#password_verif').on('change', ctrl);
        });
    </script>

    <%- include('../../partials/footer'); -%>